# VM到期管理系统 - 测试执行计划

## 测试会话信息
- **执行日期**: 2026-01-06
- **执行方式**: Playwright自动化测试
- **测试环境**: http://localhost:3000
- **测试工具**: Playwright Browser Automation

## 测试执行策略

### 阶段1: 认证功能测试 (优先级: P0)
**预计时间**: 10分钟
- [ ] TC-AUTH-001: 管理员登录成功
- [ ] TC-AUTH-002: 普通用户登录成功
- [ ] TC-AUTH-003: 登录失败 - 错误凭据
- [ ] TC-AUTH-004: 用户登出

### 阶段2: 仪表板功能测试 (优先级: P0)
**预计时间**: 5分钟
- [ ] TC-DASH-001: 管理员仪表板显示
- [ ] TC-DASH-002: 普通用户仪表板显示

### 阶段3: VM管理功能测试 (优先级: P0)
**预计时间**: 30分钟
- [ ] TC-VM-001: 查看VM列表（管理员）
- [ ] TC-VM-002: 查看VM列表（普通用户）
- [ ] TC-VM-003: 创建新VM记录
- [ ] TC-VM-004: 创建VM - 数据验证失败
- [ ] TC-VM-005: 编辑VM记录
- [ ] TC-VM-006: 删除VM记录
- [ ] TC-VM-007: VM筛选 - 按项目
- [ ] TC-VM-008: VM筛选 - 按到期状态
- [ ] TC-VM-009: VM搜索功能
- [ ] TC-VM-010: 组合筛选条件
- [ ] TC-VM-011: 清除筛选条件
- [ ] TC-VM-012: 批量选择VM
- [ ] TC-VM-013: 全选VM
- [ ] TC-VM-014: 批量续期操作
- [ ] TC-VM-016: 查看VM详情
- [ ] TC-VM-017: VM到期状态显示

### 阶段4: 项目管理功能测试 (优先级: P0)
**预计时间**: 25分钟
- [ ] TC-PROJ-001: 查看项目列表
- [ ] TC-PROJ-002: 创建新项目
- [ ] TC-PROJ-003: 创建项目 - 验证失败
- [ ] TC-PROJ-004: 编辑项目信息
- [ ] TC-PROJ-005: 删除项目 - 有关联VM
- [ ] TC-PROJ-006: 删除项目 - 无关联VM
- [ ] TC-PROJ-007: 查看项目详情
- [ ] TC-PROJ-008: 分配用户到项目
- [ ] TC-PROJ-010: 项目搜索功能
- [ ] TC-PROJ-011: 项目统计信息

### 阶段5: 用户管理功能测试 (优先级: P0)
**预计时间**: 20分钟
- [ ] TC-USER-001: 查看用户列表（管理员）
- [ ] TC-USER-002: 用户管理页面访问控制
- [ ] TC-USER-003: 创建新用户
- [ ] TC-USER-004: 创建用户 - 验证失败
- [ ] TC-USER-005: 修改用户角色
- [ ] TC-USER-006: 用户角色降级
- [ ] TC-USER-007: 不能修改自己的角色
- [ ] TC-USER-008: 用户搜索功能
- [ ] TC-USER-009: 按角色筛选用户
- [ ] TC-USER-010: 用户统计信息

### 阶段6: 审计日志功能测试 (优先级: P1)
**预计时间**: 20分钟
- [ ] TC-AUDIT-001: 查看审计日志（管理员）
- [ ] TC-AUDIT-002: 审计日志访问控制
- [ ] TC-AUDIT-003: 操作自动记录
- [ ] TC-AUDIT-004: 按操作类型筛选
- [ ] TC-AUDIT-005: 按实体类型筛选
- [ ] TC-AUDIT-006: 按用户筛选
- [ ] TC-AUDIT-007: 按时间范围筛选
- [ ] TC-AUDIT-008: 搜索审计日志
- [ ] TC-AUDIT-009: 清除筛选条件
- [ ] TC-AUDIT-010: 审计日志分页
- [ ] TC-AUDIT-011: 刷新审计日志

### 阶段7: 权限控制测试 (优先级: P0)
**预计时间**: 15分钟
- [ ] TC-PERM-001: 管理员完整权限验证
- [ ] TC-PERM-002: 普通用户权限限制
- [ ] TC-PERM-003: 项目数据隔离
- [ ] TC-PERM-004: 未授权操作拦截

### 阶段8: 数据导出测试 (优先级: P1)
**预计时间**: 10分钟
- [ ] TC-EXPORT-001: 导出VM数据为CSV
- [ ] TC-EXPORT-002: 导出VM数据为JSON
- [ ] TC-EXPORT-003: 导出项目数据
- [ ] TC-EXPORT-004: 导出审计日志

## 总预计时间: 约2.5小时

## 测试前准备
1. ✅ 确认开发服务器运行在 http://localhost:3000
2. ✅ 确认测试账户可用
3. ✅ 确认Playwright已配置
4. ✅ 准备测试数据

## 测试执行顺序
按照优先级和依赖关系执行：
1. 认证功能（基础）
2. 仪表板（验证登录后状态）
3. VM管理（核心功能）
4. 项目管理（核心功能）
5. 用户管理（管理功能）
6. 审计日志（监控功能）
7. 权限控制（安全功能）
8. 数据导出（辅助功能）

## 测试成功标准
- 所有P0优先级测试用例通过率 ≥ 95%
- 所有P1优先级测试用例通过率 ≥ 90%
- 无阻塞性缺陷
- 核心业务流程完整可用

## 开始执行测试
准备开始自动化测试执行...
